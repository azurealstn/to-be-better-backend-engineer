# [Book] 그림으로 배우는 Http & NetWork Basic

정리할 내용은 [그림으로 배우는 HTTP & Network](https://www.yes24.com/Product/Goods/15894097) 라는 책이다. 오래된 책이여도 근본은 바뀌지 않으니 읽어보면 도움이 분명 된다.

## 목차

- [HTTP](#http)
- [TCP/IP](#tcpip)
- [DNS](#dns)
- [URI와 URL](#uri와-url)

## HTTP

웹에서 HTTP는 HyperText Transfer Protocol의 약자로, 클라이언트에서 서버까지 일련의 흐름을 결정하는 프로토콜이다. 프로토콜은 약속이라는 의미로, 웹은 HTTP라는 약속을 사용한 통신으로 이루어져 있다.

### HTTP/0.9

HTTP가 등장한 때는 1990년인데 이 당시 HTTP가 정식 사양서는 아니었다.

### HTTP/1.0

HTTP가 정식 사양으로 공개된 1996년 5월 HTTP/1.0으로 RFC1945가 발행되었다.

### HTTP/1.1

1997년 1월에 공개된 HTTP/1.1 버전이 현재 가장 많이 사용되는 버전이다. (지금도 가장 많이 사용된다.) 당시 사양은 RFC2068이지만 개정판으로 발행된 RFC2616이 최신 버전이다. 그 밖에도 HTTP/2.0, HTTP/3.0도 쓰인다.

## TCP/IP

HTTP를 이해하기 위해서는 TCP/IP 프로토콜에 대해 이해해야 하는데, 인터넷을 포함하여 일반적으로 사용하고 있는 네트워크는 TCP/IP라는 프로토콜에서 움직이고 있다. HTTP는 그 중 하나이다.

컴퓨터와 네트워크 기기가 상호간에 통신하기 위해서는 서로 같은 방법으로 통신하지 않으면 안된다. 따라서 모든 요소에 규칙이 필요한데 이 규칙을 프로토콜이라 한다. 그리고 인터넷과 관련된 프로토콜들을 모은 것을 TCP/IP라고 부른다.

TCP/IP는 애플리케이션 계층, 트랜스포트 계층, 네트워크 계층, 링크 계층 이렇게 4계층으로 나뉘어 있다. 계층화되어 있으면 사양이 변경된 해당 계층만 변경하면 되기 때문에 유연하다. 이를 통해 설계도 편하게 할 수 있다.

### 애플리케이션 계층

애플리케이션 계층은 유저에게 제공되는 애플리케이션에서 사용하는 통신의 움직임을 결정하고 있다. 예를 들면, FTP와 DNS, HTTP가 이 계층에 해당한다.

### 트랜스포트 계층

트랜스포트 계층은 애플리케이션 계층에 네트워크로 접속되어 있는 2대의 컴퓨터 사이의 데이터 흐름을 제공한다. 트랜스포트 계층에서는 서로 다른 성질을 가진 TCP(Transmission Control Protocol)와 UDP(User Data Protocol) 두 가지 프로토콜이 있다.

### 네트워크 계층

네트워크 계층은 네트워크 상에서 패킷의 이동을 다룬다. 패킷이란 전송하는 데이터의 최소 단위를 말한다.

### 링크 계층 (혹은 데이터 링크 계층, 네트워크 인터페이스 계층)

링크 계층은 네트워크에 접속하는 하드웨어적인 면을 다룬다. 디바이스 드라이버, 네트워크 인터페이스 카드(NIC), 케이블 등

![tcp-ip-1](/book/http_network_basic/images/tcp-ip-1.png)
(출처: https://tychejin.tistory.com/151)

TCP/IP로 통신할 때 계층을 순서대로 거쳐 상대와 통신을 한다.

1. 클라이언트의 애플리케이션 계층(HTTP)에서 어느 웹 페이지를 보고 싶다라는 HTTP 리퀘스트를 날린다.
2. 트랜스포트 계층(TCP)에서는 애플리케이션 계층에서 받은 데이터(HTTP 메시지)를 통신하기 쉽게 조각내어 안내 번호와 포트 번호를 붙여 네트워크 계층에 전달한다.
3. 네트워크 계층(IP)에서는 수신지 MAC 주소를 추가해서 링크 계층에 전달한다. 이로써 네트워크를 통해 송신할 준비가 되었다.

### IP

IP(Internet Protocol)는 네트워크 계층에 해당된다. IP 주소와 혼동할 수 있지만 IP는 프로토콜의 명칭이다.

IP의 역할은 개개의 패킷을 상대방에게 전달하는 것이다.

### TCP

TCP(Transmission Control Protocol)는 트랜스포트 계층에 해당하는데 신뢰성 있는 바이트 스트림 서비스를 제공한다. 바이트 스트림 서비스란 용량이 큰 데이터를 보내기 쉽게 TCP 세그먼트라고 불리는 단위 패킷으로 작게 분해하여 관리하는 것을 말한다. 즉, TCP는 대용량의 데이터를 보내기 쉽게 작게 분해하여 상대에게 보내고, 정확하게 도착했는지 확인하는 역할을 담당한다.

상대에게 확실하게 데이터를 보내기 위해 TCP는 3-way-handshake 이라는 방버을 사용한다. 송신측에서는 최초 SYN 플래그로 상대에게 패킷을 보내고, 수신측에서는 SYN/ACK 플래그로 패킷을 정상 수신한 사실을 전한다. 마지막으로 송신측이 ACK 플래그를 보내 패킷 교환이 완료되었음을 전한다.

## DNS

DNS(Domain Name System)는 HTTP와 같이 응용 계층 시스템에서 도메인 이름과 IP 주소 이름 확인을 제공한다.

## URI와 URL

`https://www.google.co.kr`이 URL이다.

URI는 Uniform Resource Identifiers의 약자로, 스키마를 나타내는 리소스를 식별하기 위한 식별자이다. 스키마는 리소스를 얻기 위한 수단에 이름을 붙이는 방법이다.

`https://www.google.co.kr`에서 `https://`가 스키마다.
